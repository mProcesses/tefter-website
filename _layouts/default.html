<!DOCTYPE html>
<html lang="{% if site.active_lang %}{{ site.active_lang }}{% else %}en{% endif %}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <meta name="format-detection" content="telephone=no">
  <title>{{ page.title }} | {{ site.title }}</title>
  <meta name="description" content="{{ page.description | default: site.description }}">
  
  <!-- hreflang tags for SEO -->
  {% if site.languages %}
    {% for lang in site.languages %}
      <link rel="alternate" hreflang="{{ lang }}" href="{{ site.url }}{% if lang != site.default_lang %}/{{ lang }}{% endif %}{{ page.url }}" />
    {% endfor %}
  {% endif %}
  
  <link rel="icon" href="{{ '/assets/icons/favicon.ico' | relative_url }}">
  <link rel="shortcut icon" href="{{ '/assets/icons/favicon.ico' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>
<body data-baseurl="{{ site.baseurl }}" data-default-lang="{{ site.default_lang }}">
  <header class="site-header">
    <div class="wrapper">
      <a class="site-title" href="{{ '/' | relative_url }}" aria-label="Tefter">
        <img class="site-logo" src="{{ '/assets/icons/Transparent-Logo.png' | relative_url }}" alt="Tefter">
      </a>
      
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.484C18,14.305,17.335,15,16.516,15H1.484 C0.665,15,0,14.305,0,13.484l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.484L18,13.484z"/>
            </svg>
          </span>
        </label>
        <div class="trigger">
          <a class="page-link" href="{{ '/' | relative_url }}">{% t nav.home %}</a>
          <a class="page-link" href="{{ '/platform/' | relative_url }}">{% t nav.platform %}</a>
          <a class="page-link" href="{{ '/tefter-exchange/' | relative_url }}">{% t nav.tx %}</a>
          <a class="page-link" href="{{ '/tefter-apps/' | relative_url }}">{% t nav.apps %}</a>
          <a class="page-link" href="{{ '/solutions/' | relative_url }}">{% t nav.solutions %}</a>
          <a class="page-link" href="{{ '/why-tefter/' | relative_url }}">{% t nav.why %}</a>
          <a class="page-link" href="{{ '/security/' | relative_url }}">{% t nav.security %}</a>
          <a class="page-link cta" href="{{ '/contact/' | relative_url }}">{% t nav.contact %}</a>
        </div>
      </nav>
      
      <!-- Language Dropdown Selector -->
      {% if site.languages %}
      <div class="language-dropdown">
        <button class="language-dropdown-btn" aria-label="Select Language">
          {% assign active_lang = site.active_lang | default: site.default_lang %}
          {% if active_lang == 'en' %}ğŸ‡¬ğŸ‡§
          {% elsif active_lang == 'sr' %}ğŸ‡·ğŸ‡¸
          {% elsif active_lang == 'de' %}ğŸ‡©ğŸ‡ª
          {% elsif active_lang == 'it' %}ğŸ‡®ğŸ‡¹
          {% elsif active_lang == 'es' %}ğŸ‡ªğŸ‡¸
          {% elsif active_lang == 'fr' %}ğŸ‡«ğŸ‡·
          {% endif %}
          <span class="lang-code">{{ active_lang | upcase }}</span>
          <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
            <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <div class="language-dropdown-content">
          {%- comment -%}
          Polyglot may render `page.url` with a language prefix (e.g. `/sr/...`) on non-default languages.
          Normalize it so the language switcher doesn't generate `/sr/sr/...` or keep users on the same language.
          {%- endcomment -%}
          {% assign base_page_url = page.permalink | default: page.url %}
          {% for l in site.languages %}
            {% if l != site.default_lang %}
              {% assign prefix = '/' | append: l %}
              {% assign prefix_slash = prefix | append: '/' %}
              {% assign prefix_no_slash = l | append: '/' %}
              {%- comment -%}
              Handle both `/sr/...` and `sr/...` (some generators can omit the leading slash).
              {%- endcomment -%}
              {% if base_page_url == prefix or base_page_url contains prefix_slash %}
                {% assign base_page_url = base_page_url | remove_first: prefix %}
              {% elsif base_page_url == l or base_page_url contains prefix_no_slash %}
                {% assign base_page_url = '/' | append: base_page_url %}
                {% assign base_page_url = base_page_url | remove_first: prefix %}
              {% endif %}
              {% if base_page_url == '' %}
                {% assign base_page_url = '/' %}
              {% endif %}
            {% endif %}
          {% endfor %}
          {% for lang in site.languages %}
            {% if lang == site.default_lang %}
              {% assign lang_href = base_page_url %}
            {% else %}
              {% assign lang_href = '/' | append: lang | append: base_page_url %}
            {% endif %}
            <a href="{{ lang_href | replace: '//', '/' }}" 
               class="language-option {% if active_lang == lang %}active{% endif %}"
               title="{{ site.language_names[lang] }}"
               data-lang="{{ lang }}">
              <span class="flag">
                {% if lang == 'en' %}ğŸ‡¬ğŸ‡§
                {% elsif lang == 'sr' %}ğŸ‡·ğŸ‡¸
                {% elsif lang == 'de' %}ğŸ‡©ğŸ‡ª
                {% elsif lang == 'it' %}ğŸ‡®ğŸ‡¹
                {% elsif lang == 'es' %}ğŸ‡ªğŸ‡¸
                {% elsif lang == 'fr' %}ğŸ‡«ğŸ‡·
                {% endif %}
              </span>
              <span class="language-name">{{ site.language_names[lang] }}</span>
              {% if active_lang == lang %}
                <svg class="check-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M13.5 4L6 11.5L2.5 8" stroke="#0066cc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              {% endif %}
            </a>
          {% endfor %}
        </div>
      </div>
      {% endif %}
    </div>
  </header>

  <main class="page-content" aria-label="Content">
    {{ content }}
  </main>

  <footer class="site-footer">
    <div class="wrapper">
      <p>{% t footer.copyright year=site.time | date: "%Y" %}</p>
    </div>
  </footer>
  <script src="{{ '/assets/js/main.js' | relative_url }}"></script>
</body>
</html>

